<!DOCTYPE html>
<html>
  <head>
    <title>Mobile P\age</title>
    <link rel="stylesheet" type="text/css" href="/styles/home.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
      integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
      crossorigin=""
    />

    <script
      src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
      integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
      crossorigin=""
    ></script>
  </head>

  <body>
    <div id="container">
      <div id="map" style="width: 100%; height: 600px"></div>
      <div id="progress">
        <div id="progress-filled"></div>
      </div>
      <div id="buttons">
        <div class="button"></div>
        <div class="button"></div>
        <div class="button"></div>
        <div class="button"></div>
      </div>
    </div>

    <script>
      var map = L.map("map").setView([51.505, -0.09], 13);

      L.tileLayer(
        "https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",
        {
          attribution:
            '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        }
      ).addTo(map);

      L.marker([51.5, -0.09]).addTo(map).bindPopup("sex").openPopup();

      var start = L.latLng(51.5, -0.09);
      var end = L.latLng(51.51, -0.1);
      const userLocation = L.marker([0.0, 0.0], { icon: currentIcon }).addTo(
        map
      );

      // Get the user's location using the Geolocation API
      navigator.geolocation.getCurrentPosition(
        (position) => {
          // Set the marker's position to the user's location
          userLocation.setLatLng([
            position.coords.latitude,
            position.coords.longitude,
          ]);

          // Set the map's view to the user's location
          map.setView(
            [position.coords.latitude, position.coords.longitude],
            13
          );
        },
        (error) => {
          console.error(error);
        }
      );

      var ors = L.Routing.control({
        router: new L.Routing.openrouteservice({
          api_key: process.env.ORS_API_KEY,
        }),
        waypoints: [L.latLng(51.5, -0.1), L.latLng(51.52, -0.12)],
        routeWhileDragging: true,
      }).addTo(map);
    </script>

    <!-- <script src="/scripts/home.js" type="text/js"></script> -->
  </body>
</html>
